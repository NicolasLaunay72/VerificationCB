<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VerificationCB Cours</title>
    <link rel="stylesheet" href="script.css">
</head>
<body>
    
    <div class="container">
        <h2>Vérification de Carte</h2>
        
        <div class="input-group">
            <label>Numéro de carte :</label>
            <input type="text" id="numeroCarte" placeholder="1234 5678 9101 1121">
        </div>

        <div class="input-group">
            <label>Mois d'expiration :</label>
            <input type="text" id="moisExp" placeholder="MM">
        </div>

        <div class="input-group">
            <label>Année d'expiration :</label>
            <input type="text" id="anneeExp" placeholder="YYYY">
        </div>

        <div class="input-group">
            <label>CVV :</label>
            <input type="text" id="cvv" placeholder="123">
        </div>

        <button onclick="verifier()">Vérifier</button>

        <p class="message" id="message"></p>
    </div>

    <script src="script.js"></script>
</body>
<script>
    /*function verifierCarte(numeroCarte,moisExp,anneeExp,CVV){
        let typeCarte = identifierTypeCard(numeroCarte);// Identifier le type de carte.
        if(typeCarte === "Type Inconnu"){
            return {valid: false, message: "Votre carte n'est pas reconnue."};
        }
        if(!verifierLuhn(numeroCarte)){
            return {valid: false, message: "Votre numéro de carte n'est pas reconnue."};
        }
        if(!verifierDateExp(moisExp,anneeExp)){
            return {valid: false, message: "Votre carte est expirée!"};
        }
        if(!verifierCVV(CVV,typeCarte)){
            return {valid: false, message: "Votre carte est invalide!"};
        }
        return {valid:true,message:"Super vous pouvez payé."};
    }
    function verifierDateExp(mois,annee){
        let maintenant = new Date();
        let anneeActuelle = maintenant.getFullYear();
        let moisActuelle = maintenant.getMonth()+1;
        annee=parseInt(annee,10);
        mois=parseInt(mois,10);
        if(annee<anneeActuelle||(annee===anneeActuelle&&mois<moisActuelle)){
            return false;
        }
        return true;
    }
    function verifierLuhn(numeroCarte){
        let somme = 0;
        let alterner = false;
        numeroCarte = numeroCarte.replace(/\D/g, "");// /\D = Tous les caractères de 0-9.
        for(let i=numeroCarte.length-1; i>=0; i--){
            let chiffre = parseInt(numeroCarte[i], 10);
            if(alterner){
                chiffre*=2;
                if(chiffre>9)chiffre-=9;
            }
            somme+=chiffre;
            alterner=!alterner;
        }
        return(somme%10===0);
    }
    function verifierCVV(CVV,typeCarte){
        if(!/^[0-9]{3,4}$/.test(CVV)) return false;
        if((typeCarte === "AmericanExpress"&& CVV.length !== 4)||(typeCarte === "AmericanExpress"&& CVV.length !== 3)){
            return false;
        }
        return true;
    }
    function identifierTypeCard(numeroCarte){// Utilisation des Regex/Expression régulière pour verifier différente données.
        if(/^4[0-9]{12}(?:[0-9]{3})?$/.test(numeroCarte)) return "Visa";
        if(/^5[1-5][0-9]{14}$|^22[2-9][0-9]{12}$|^2[3-7][0-9]{13}$/.test(numeroCarte)) return "MasterCard";
        if(/^3[47][0-9]{13}$/.test(numeroCarte)) return "AmericanExpress";
        if(/^6011[0-9]{12}$|^6221[2-9][0-9]{10}$|^622[6-9][0-9]{11}$|^64[4-9][0-9]{13}$|^65[0-9]{14}$/.test(numeroCarte)) return "Discover";
        return "Type Inconnu";
    }
    let resultat = verifierCarte("4633441780633106", "12", "2025", "178");
    console.log(resultat)*/
</script>
</html>